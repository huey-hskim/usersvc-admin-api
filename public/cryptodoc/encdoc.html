<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>crypto document</title>
    <style>
        label {
            display: inline-block;
            width: 210px;
        }
    </style>
</head>

<body>
<main>
    <section class="examples">
        <section class="encrypt-decrypt aes-gcm">
            <h2 class="encrypt-decrypt-heading">Create crypto document with AES-GCM</h2>
            <section class="encrypt-decrypt-controls">
                <form id='mainform' method='post' action="/encryptodoc">
                    <div class="message-control">
                        <label for="filename">Enter a filename to download :</label>
                        <input type="text" id="filename" name="filename" size="25"
                               value="">
                    </div>
                    <div class="message-control">
                        <label for="password">Enter a password to encrypt :</label>
                        <input type="password" id="password" name="password" size="25"
                               value="">
                    </div>
                    <div class="message-control">
                        <label for="passhint">Enter a hint of password :</label>
                        <input type="text" id="passhint" name="passhint" size="25"
                               value="">
                    </div>
                    <div class="message-control">
                        <label for="message">Enter a message to encrypt :</label><br>
                        <textarea id="message" name="message" cols="80" rows="20"
                                  value="The bunny hops at teatime"></textarea>
                    </div>
                    <input class="encrypt-button" type="submit" value="Encrypt">
                </form>
            </section>
        </section>

    </section>
</main>
<script>
  document.getElementById('mainform').addEventListener('submit', function(e) {
    e.preventDefault();
    let filename = document.getElementById('filename');
    let passhint = document.getElementById('passhint');
    let password = document.getElementById('password');
    let message = document.getElementById('message');

    if (!password.value || !message.value) {
      alert('password or message is empty!');
      return;
    }

    this.submit();

    filename.value = '';
    passhint.value = '';
    password.value = '';
    message.value = '';
  })
</script>

</body>
</html>